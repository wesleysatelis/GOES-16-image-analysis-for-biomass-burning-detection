##################################### leitura de funções #####################################
# source("https://www.dropbox.com/s/xt8bipung6s2897/funcoes.R?dl=1")
source("../funcoes.R")
read_med <- function(input, pos){
input %>%
# dplyr::rename(mediana = comb) %>%
dplyr::filter(plant == plant_n)
}
plant_n <- 14
med <- read_csv_chunked("~/mediana.csv",
DataFrameCallback$new(read_med),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e7)
med %>% filter(comb > 1)
med %>% filter(comb <-1)
med %>% filter(comb < -1)
med %>% filter(comb > 1)
plant_n <- 1
med <- read_csv_chunked("~/mediana.csv",
DataFrameCallback$new(read_med),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e7)
med %>% filter(comb > 1)
med %>% filter(comb < -1)
# load("/home/cluster/ra188650/home_imecc/public_html/queimadas.Rdata") # cluster
load("queimadas.RData") # local
ponto <- dplyr::filter(queima_max, plant == 15, index == "nbr", pixel == "pixel_01")
mv <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
library(changepoint)
mv <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
plot(mv)
mv_bic <- cpt.meanvar(ponto$max, method = "BinSeg", penalty = "BIC", Q = 5)
plot(mv_bic)
plot(mv_bic)
ponto <- dplyr::filter(queima_max, plant == 14, index == "nbr", pixel == "pixel_01")
mv <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
plot(mv)
ponto <- dplyr::filter(queima_max, plant == 15, index == "nbr", pixel == "pixel_01")
mv <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
plot(mv)
ponto <- dplyr::filter(queima_max, plant == 14, index == "nbr", pixel == "pixel_01")
mv <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
plot(mv)
mv
View(mv)
mv@param.est
mv@cpts.full
# séries anuais de pontos de queimada e vizinhos
fun <- function(inpu, pos){
input %>%
dplyr::select(-med) %>%
dplyr::filter(plant == 15)
}
dado <- read_csv("../../IC - dados/tidy_queimadas/queimadas_buffer.csv")
dado <- read_csv_chunked("../../IC - dados/tidy_queimadas/queimadas_buffer.csv",
callback = DataFrameCallback$new(fun),
chunk_size = 1e6)
# séries anuais de pontos de queimada e vizinhos
fun <- function(inpu, pos){
input %>%
dplyr::select(-med) %>%
dplyr::filter(plant == 15)
}
# séries anuais de pontos de queimada e vizinhos
fun <- function(input, pos){
input %>%
dplyr::select(-med) %>%
dplyr::filter(plant == 15)
}
dado <- read_csv_chunked("../../IC - dados/tidy_queimadas/queimadas_buffer.csv",
callback = DataFrameCallback$new(fun),
chunk_size = 1e6)
# dado <- read_csv("../../IC - dados/tidy_queimadas/queimadas_buffer.csv")
dado <- read_csv_chunked("../../IC - dados/tidy_queimadas/queimadas_buffer.csv",
callback = DataFrameCallback$new(fun),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e6)
# dado <- read_csv("../../IC - dados/tidy_queimadas/queimadas_buffer.csv")
dado <- read_csv_chunked("../../IC - dados/tidy_queimadas/queimadas_buffer.csv",
callback = DataFrameCallback$new(fun),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess()),
chunk_size = 1e6)
# dado <- read_csv("../../IC - dados/tidy_queimadas/queimadas_buffer.csv")
dado <- read_csv_chunked("../../IC - dados/tidy_queimadas/queimadas_buffer.csv",
callback = DataFrameCallback$new(fun),
chunk_size = 1e6)
plant_n <- 15
med <- read_csv_chunked("~/mediana.csv",
DataFrameCallback$new(read_med),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e7)
?DataFrameCallback
plot(med$comb, type='l')
med$pixel[1]
read_med <- function(input, pos){
input %>%
# dplyr::rename(mediana = comb) %>%
dplyr::filter(plant == plant_n, pixel == px)
}
plant_n <- 15
px <- "pixel_05"
med <- read_csv_chunked("~/mediana.csv",
DataFrameCallback$new(read_med),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e7)
plot(med$comb, type='l')
read_med <- function(input, pos){
input %>%
# dplyr::rename(mediana = comb) %>%
dplyr::filter(plant == plant_n, pixel == px)
}
plant_n <- 15
px <- "pixel_05"
med <- read_csv_chunked("~/mediana.csv",
DataFrameCallback$new(read_med),
col_types = cols_only(plant = col_guess(), data_hora = col_guess(),
index = col_guess(), pixel = col_guess(),
data_queima = col_guess(), municipio = col_guess(),
comb = col_guess()),
chunk_size = 1e7)
teste_p15_px05 <- med
rm(med)
# load("/home/cluster/ra188650/home_imecc/public_html/queimadas.Rdata") # cluster
load("queimadas.RData") # local
save.image("~/relatorio_final.RData")
read_med <- function(input, pos){
input %>%
# dplyr::rename(mediana = comb) %>%
dplyr::filter(plant == plant_n, pixel == px, index == "nbr")
}
load("~/mediana.RData")
load("~/mediana.RData")
View(med)
med %>% dplyr::filter(index == "ndvi")
med %>% dplyr::filter(index == "nbr")
nbr_med = med %>% dplyr::filter(index == "nbr")
View(nbr_med)
mv <- cpt.meanvar(nbr_med$comb, method = "BinSeg", Q = 5)
plot(mv)
nbr_med = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(nbr_med$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
nbr_med = med %>% dplyr::filter(index == "ndvi")
nbr_med = med %>% dplyr::filter(index == "ndvi")
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv)
plot(mv_med_ndvi)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
mv_med_ndvi <- cpt.mean(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
m_med_ndvi <- cpt.mean(med_cpt$comb, method = "BinSeg", Q = 5)
plot(m_med_ndvi)
load("~/mediana.RData")
load("~/mediana.RData")
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
m_med_ndvi <- cpt.mean(med_cpt$comb, method = "BinSeg", Q = 5)
plot(m_med_ndvi)
load("~/mediana.RData")
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
med_cpt <- cpt.mean(med_cpt$comb, method = "BinSeg", Q = 5)
plot(m_med_ndvi)
plot(mv_med_ndvi)
plot(mv_med_ndvi)
plot(mv_med_nbr)
plot(m_med_ndvi)
plot(m_med_ndvi)
load("~/mediana.RData")
load("~/mediana.RData")
View(med)
med %>% dplyr::filter(index == "ndvi")
med %>%
dplyr::filter(index == "ndvi") %>%
ggplot() + geom_line(aes(x=data_hora, y = med))
med %>%
dplyr::filter(index == "ndvi") %>%
ggplot() + geom_line(aes(x=data_hora, y = comb))
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) + facet_wrap(~index)
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) + facet_wrap(~index, ncol=1)
View(med)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
View(mv_med_nbr)
mv_med_nbr@cpts.full
mv_med_nbr@param.est
mv_med_nbr@cpts.full
mv_med_nbr@cpts
mv_med_nbr@ncpts.max
mv_med_nbr@param.est[["mean"]]
pt <- tibble(x = mv_med_nbr@cpts, y = mv_med_nbr@param.est[["mean"]])
View(pt)
seg.len(mv_med_nbr)
mv_med_nbr@data.set
length(mv_med_nbr@data.set)
View(mv_med_nbr)
length(med_cpt$comb)
mv_med_nbr@data.set[mv_med_nbr@cpts[1]]
mv_med_nbr@cpts[1]
mv_med_nbr@data.set[1:mv_med_nbr@cpts[1]]
mv_med_nbr@data.set[1:mv_med_nbr@param.est[["mean"]][1]]
1:mv_med_nbr@param.est[["mean"]][1]
mv_med_nbr@param.est[["mean"]][1]
mv_med_nbr@param.est[["mean"]]
source('~/Dropbox/IC - Wesley/analise/queimadas.R', echo=TRUE)
mv_med_nbr@cpts[1]
1:mv_med_nbr@cpts[1]
vec <- c()
vec[1:mv_med_nbr@cpts[1]] <- mv_med_nbr@param.est[["mean"]][1]
vec
vec[1:mv_med_nbr@cpts[2]] <- mv_med_nbr@param.est[["mean"]][2]
vec
?rep
rep(mv_med_nbr@param.est[["mean"]][1], mv_med_nbr@cpts[1]])
rep(mv_med_nbr@param.est[["mean"]][1], mv_med_nbr@cpts[1])
rep(mv_med_nbr@param.est[["mean"]][2], mv_med_nbr@cpts[2])
rep(mv_med_nbr@param.est[["mean"]][3], mv_med_nbr@cpts[3])
rep(mv_med_nbr@param.est[["mean"]][4], mv_med_nbr@cpts[4])
mv_med_nbr@cpts
mv_med_nbr@param.est[["mean"]]
media <- mv_med_nbr@param.est[["mean"]]
xpos <- mv_med_nbr@cpts
rep(media[1], xpos[1])
vec <- c()
ymap <- c()
media <- mv_med_nbr@param.est[["mean"]]
xpos <- mv_med_nbr@cpts
for(i in 1:length(xpos)) ymap <- rep(media[i], xpos[i])
ymap
length(mv_med_nbr@cpts[4])
length(ymap)
med <- mutate(cpt_y=ymap)
med <- dplyr::mutate(map, cpt_y=ymap)
med <- dplyr::mutate(med, cpt_y=ymap)
length(ymap)
nrow(med)
med_cpt = med %>% dplyr::filter(index == "nbr")
med <- dplyr::mutate(med_cpt, cpt_y=ymap)
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
med_cpt
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) + geom_hline(y = cpt_y)
View(med_cpt)
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) + geom_hline(aes(y = cpt_y))
?geom_hline
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) + geom_hline(aes(yintercept = cpt_y))
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) + geom_hline(aes(yintercept = cpt_y), col = "red")
pt <- tibble(x = mv_med_nbr@cpts, y = mv_med_nbr@param.est[["mean"]])
ymap <- c()
media <- mv_med_nbr@param.est[["mean"]]
xpos <- mv_med_nbr@cpts
for(i in 1:length(xpos)) ymap <- c(ymap, rep(media[i], xpos[i]))
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
for(i in 1:length(xpos)) ymap <- c(ymap, rep(media[i], seg.len(mv_med_nbr)[i]))
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
ymap <- c()
for(i in 1:length(xpos)) ymap <- c(ymap, rep(media[i], seg.len(mv_med_nbr)[i]))
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) + geom_hline(aes(yintercept = cpt_y), col = "red")
?geom_hline
geom_path()
?geom_path()
?geom_step()
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_path(aes(y = cpt_y), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_path(aes(y = cpt_y, x = data_hora), col = "red")
?geom_step()
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_segment(aes(y = cpt_y, x = data_hora), col = "red")
geom_crossbar()
?geom_crossbar()
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_crossbar(aes(y = cpt_y, x = data_hora), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_segment(aes(y = cpt_y, x = data_hora), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red")
?geom_step
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", direction = 'hv')
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", orientation = 'x')
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", direction = 'vh')
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", direction = 'h')
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", direction = 'hv')
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_segment(aes(y = cpt_y, x = data_hora), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_vline(xintercept = cpts.ts(mv_med_nbr), colour="red", linetype = "dotdash")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_vline(xintercept = cpts.ts(mv_med_nbr), col="red", linetype = "dotdash")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_vline(yintercept = cpts.ts(mv_med_nbr), col="red", linetype = "dotdash")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_vline(xintercept = cpts.ts(mv_med_nbr), col="red", linetype = "dotdash")
dec <- decompose(mv_med_nbr)
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_segment(aes(y = cpt_y, x = data_hora), col = "red")
ggplot(med_cpt) + geom_line(aes(x=data_hora, y=comb)) +
geom_step(aes(y = cpt_y, x = data_hora), col = "red", direction = 'hv')
plot(mv_med_nbr)
plot(mv_med_ndvi)
mv_med_ndvi <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_ndvi)
load("~/mediana.RData")
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) + facet_wrap(~index, ncol=1)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=ctt_y, group=as.factor(cpt_y)))
med_cpt
load("~/mediana.RData")
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) + facet_wrap(~index, ncol=1)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
pt <- tibble(x = mv_med_nbr@cpts, y = mv_med_nbr@param.est[["mean"]])
ymap <- c()
media <- mv_med_nbr@param.est[["mean"]]
xpos <- mv_med_nbr@cpts
for(i in 1:length(xpos)) ymap <- c(ymap, rep(media[i], seg.len(mv_med_nbr)[i]))
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=ctt_y, group=as.factor(cpt_y)))
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=cpt_y, group=as.factor(cpt_y)))
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=cpt_y, group=as.factor(cpt_y)), col='red')
View(med_cpt)
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=cpt_y, group=as_factor(cpt_y)), col='red')
View(med_cpt)
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=comb, group=as.factor(cpt_y)), col='red')
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=cpt_y, group=as.factor(cpt_y)), col='red')
as.factor(cpt_y)
as.factor(med_cpt)
as.factor(ymap)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
pt <- tibble(x = mv_med_nbr@cpts, y = mv_med_nbr@param.est[["mean"]])
ymap <- c()
media <- mv_med_nbr@param.est[["mean"]]
xpos <- mv_med_nbr@cpts
for(i in 1:length(xpos)) ymap <- c(ymap, rep(media[i], seg.len(mv_med_nbr)[i]))
med_cpt <- dplyr::mutate(med_cpt, cpt_y=ymap)
ggplot(med_cpt) +
geom_line(aes(x=data_hora, y=comb)) +
geom_line(aes(x=data_hora, y=cpt_y, group=as.factor(cpt_y)), col='red')
load("~/mediana.RData")
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) + facet_wrap(~index, ncol=1)
med_cpt = med %>% dplyr::filter(index == "ndvi")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
coef(mv_med_nbr)
as_tibble(coef(mv_med_nbr))
library(kableExtra)
install.packages("kableExtra")
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, message = FALSE,
fig.show='hold', fig.align = 'center', results='hide')
source("https://www.dropbox.com/s/xt8bipung6s2897/funcoes.R?dl=1")
library(tmap)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param, digits = 4)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param, digits = 4, col.names = c("Média", "Variância"))
setwd("~/Dropbox/IC - Wesley/analise")
# load("/home/cluster/ra188650/home_imecc/public_html/queimadas.Rdata") # cluster
load("queimadas.RData") # local
library(changepoint)
ponto <- dplyr::filter(queima_max, plant == 14, index == "nbr", pixel == "pixel_01")
mv_max <- cpt.meanvar(ponto$max, method = "BinSeg", Q = 5)
plot(mv)
plot(mv_max)
save.image("~/Dropbox/IC - Wesley/analise/queimadas.RData")
ponto
NBR para localização 14 com pontos de mudança.
```{r}
load("~/Dropbox/IC - Wesley/analise/queimadas.RData") # local
plot(mv_max)
```
param <- as_tibble(coef(mv_med_nbr))
library(kableExtra)
library(changepoint)
load("~/mediana.RData")
med %>%
ggplot() + geom_line(aes(x=data_hora, y = comb)) +
facet_wrap(~index, ncol=1) +
ylab("Índice") + xlab("Data") +
theme_bw()
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param, digits = 4, col.names = c("Média", "Variância"))
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kbl(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex", booktabs = T)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex", booktabs = T)
med_cpt = med %>% dplyr::filter(index == "nbr")
mv_med_nbr <- cpt.meanvar(med_cpt$comb, method = "BinSeg", Q = 5)
plot(mv_med_nbr)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kable(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex", booktabs = T,
kable_styling(latex_options =c("hold_position")))
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kbl(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex", booktabs = T,
kable_styling(latex_options =c("hold_position")))
library(kableExtra)
library(changepoint)
load("~/mediana.RData")
med %>%
ggplot() +
geom_line(aes(x=data_hora, y = comb), size = 0.3) +
facet_wrap(~index, ncol=1) +
ylab("Índice") + xlab("Data") +
theme_bw()
library(kableExtra)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kbl(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex", booktabs = T) %>%
kable_styling(latex_options =c("hold_position"))
library(kableExtra)
param <- as_tibble(coef(mv_med_nbr))
kableExtra::kbl(param, digits = 4, col.names = c("Média", "Variância"),
format = "latex") %>%
kable_styling(latex_options =c("hold_position"))
library(knitr)
library(changepoint)
load("~/mediana.RData")
med %>%
ggplot() +
geom_line(aes(x=data_hora, y = comb), size = 0.3) +
facet_wrap(~index, ncol=1) +
ylab("Índice") + xlab("Data") +
theme_bw()
library(kableExtra)
param <- as_tibble(coef(mv_med_nbr))
kable(param, digits = 4, col.names = c("Média", "Variância"),
caption="ANOVA do modelo reduzido por stepwise", format = "latex")
